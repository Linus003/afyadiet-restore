module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},5522,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},50463,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"skeleton",className:(0,c.cn)("bg-accent animate-pulse rounded-md",a),...d})}a.s(["Skeleton",()=>d])},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},3311,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(40695),f=a.i(76504),g=a.i(20005),h=a.i(46842);function i(){let a=(0,d.useRouter)(),i=async()=>{await fetch("/api/auth/logout",{method:"POST"}),a.push("/")};return(0,b.jsxs)("nav",{className:"flex items-center justify-between px-6 py-4 border-b border-border bg-card",children:[(0,b.jsx)(c.default,{href:"/nutritionist/dashboard",className:"text-2xl font-bold text-primary",children:"AfyaDiet"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(c.default,{href:"/nutritionist/appointments",children:(0,b.jsx)(e.Button,{variant:"ghost",children:"Appointments"})}),(0,b.jsx)(c.default,{href:"/nutritionist/meal-plans",children:(0,b.jsx)(e.Button,{variant:"ghost",children:"Meal Plans"})}),(0,b.jsxs)(f.DropdownMenu,{children:[(0,b.jsx)(f.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(h.User,{className:"w-4 h-4 mr-2"}),"Account"]})}),(0,b.jsxs)(f.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(f.DropdownMenuItem,{asChild:!0,children:(0,b.jsx)(c.default,{href:"/nutritionist/profile",children:"My Profile"})}),(0,b.jsx)(f.DropdownMenuItem,{asChild:!0,children:(0,b.jsx)(c.default,{href:"/nutritionist/availability",children:"Availability"})}),(0,b.jsx)(f.DropdownMenuSeparator,{}),(0,b.jsxs)(f.DropdownMenuItem,{onClick:i,className:"text-destructive",children:[(0,b.jsx)(g.LogOut,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]})}a.s(["NutritionistNav",()=>i])},90166,a=>{"use strict";let b=(0,a.i(70106).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},54161,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(187),e=a.i(97895);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},79257,a=>{"use strict";let b=(0,a.i(70106).default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);a.s(["Link",()=>b],79257)},44682,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3311),f=a.i(40695),g=a.i(3130),h=a.i(50463),i=a.i(5522),j=a.i(54161),k=a.i(41675),l=a.i(41710),m=a.i(70106);let n=(0,m.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),o=(0,m.default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var p=a.i(79257),q=a.i(14548),r=a.i(90166);function s(){let a=(0,d.useRouter)(),[m,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let b=await fetch("/api/nutritionist/appointments");if(401===b.status)return void a.push("/login");let c=await b.json();u(c.appointments||[])}catch(a){console.error("Appointments fetch error:",a)}finally{s(!1)}})()},[a]);let z=async(a,b)=>{w(a);try{(await fetch("/api/nutritionist/appointments",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointmentId:a,status:b})})).ok&&u(c=>c.map(c=>c.id===a?{...c,status:b}:c))}catch(a){console.error("Status update error:",a)}finally{w(null)}},A=async a=>{if(x){w(a);try{(await fetch("/api/nutritionist/appointments",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointmentId:a,meetingLink:x.link})})).ok&&(u(b=>b.map(b=>b.id===a?{...b,meeting_link:x.link}:b)),y(null))}catch(a){console.error("Link save error:",a)}finally{w(null)}}};return m?(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(e.NutritionistNav,{}),(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-12 space-y-4",children:[(0,b.jsx)(h.Skeleton,{className:"h-48 w-full"}),(0,b.jsx)(h.Skeleton,{className:"h-48 w-full"})]})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(e.NutritionistNav,{}),(0,b.jsxs)("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-12",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"My Appointments"}),(0,b.jsxs)(j.Badge,{variant:"outline",className:"text-lg px-4 py-1",children:["Total: ",t.length]})]}),t.length>0?(0,b.jsx)("div",{className:"space-y-6",children:t.map(a=>(0,b.jsx)(g.Card,{className:"overflow-hidden border-l-4 border-l-primary shadow-sm hover:shadow-md transition-shadow",children:(0,b.jsx)(g.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[(0,b.jsxs)("div",{className:"md:col-span-3 flex flex-col justify-center items-center bg-secondary/10 rounded-lg p-4 text-center",children:[(0,b.jsx)(k.Calendar,{className:"w-8 h-8 text-primary mb-2"}),(0,b.jsx)("span",{className:"text-lg font-bold text-foreground block",children:(a=>{try{let b=new Date(a);if(isNaN(b.getTime()))return"Invalid Date";return b.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"})}catch(a){return"Date error"}})(a.scheduled_at)}),(0,b.jsxs)("div",{className:"flex items-center text-muted-foreground mt-1",children:[(0,b.jsx)(l.Clock,{className:"w-4 h-4 mr-1"}),(a=>{try{let b=new Date(a);if(isNaN(b.getTime()))return"--:--";return b.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}catch(a){return"--:--"}})(a.scheduled_at)]}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground mt-1",children:["(",a.duration_minutes," mins)"]})]}),(0,b.jsxs)("div",{className:"md:col-span-5 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:a.client_name}),(0,b.jsxs)("a",{href:`mailto:${a.client_email}`,className:"flex items-center text-sm text-muted-foreground hover:text-primary mt-1",children:[(0,b.jsx)(n,{className:"w-4 h-4 mr-2"}),a.client_email]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)(j.Badge,{variant:"secondary",className:"px-3 py-1 text-green-700 bg-green-50 border-green-200",children:[(0,b.jsx)(r.DollarSign,{className:"w-3 h-3 mr-1"}),Number(a.price).toLocaleString()," KSh"]}),(0,b.jsx)(j.Badge,{variant:"confirmed"===a.status?"default":"outline",children:a.status})]}),a.notes&&(0,b.jsxs)("div",{className:"text-sm bg-slate-50 p-2 rounded border text-slate-600",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Note:"})," ",a.notes]})]}),(0,b.jsxs)("div",{className:"md:col-span-4 flex flex-col gap-3 border-l pl-0 md:pl-6",children:[(0,b.jsxs)("div",{className:"bg-blue-50/50 p-3 rounded-md border border-blue-100",children:[(0,b.jsxs)("h4",{className:"text-xs font-bold text-blue-800 uppercase mb-2 flex items-center",children:[(0,b.jsx)(o,{className:"w-3 h-3 mr-1"})," Video Meeting"]}),x&&x.id===a.id?(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(i.Input,{value:x.link,onChange:a=>y({...x,link:a.target.value}),placeholder:"Paste Meet/Zoom link...",className:"h-8 text-xs bg-white"}),(0,b.jsx)(f.Button,{size:"sm",className:"h-8 w-8 p-0",onClick:()=>A(a.id),children:(0,b.jsx)(q.Save,{className:"w-4 h-4"})})]}):(0,b.jsx)("div",{children:a.meeting_link?(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("a",{href:a.meeting_link,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 hover:underline truncate block font-medium",children:a.meeting_link}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{size:"sm",variant:"outline",className:"h-7 text-xs w-full",onClick:()=>window.open(a.meeting_link,"_blank"),children:"Join Meeting"}),(0,b.jsx)(f.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:()=>y({id:a.id,link:a.meeting_link}),children:(0,b.jsx)(p.Link,{className:"w-3 h-3"})})]})]}):(0,b.jsxs)(f.Button,{size:"sm",variant:"outline",className:"w-full text-xs h-8 border-dashed text-muted-foreground",onClick:()=>y({id:a.id,link:""}),children:[(0,b.jsx)(p.Link,{className:"w-3 h-3 mr-2"})," Add Google Meet Link"]})})]}),(0,b.jsxs)("div",{className:"mt-auto",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Update Status:"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["confirmed","completed"].map(c=>(0,b.jsx)(f.Button,{size:"sm",variant:a.status===c?"default":"secondary",onClick:()=>z(a.id,c),disabled:v===a.id||a.status===c,className:"text-xs h-7 capitalize",children:c},c))})]})]})]})})},a.id))}):(0,b.jsx)(g.Card,{className:"bg-slate-50 border-dashed",children:(0,b.jsxs)(g.CardContent,{className:"pt-16 pb-16 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(k.Calendar,{className:"w-8 h-8 text-slate-400"})}),(0,b.jsx)("p",{className:"text-xl font-semibold text-foreground",children:"No appointments yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2 max-w-sm mx-auto",children:"Once clients book sessions with you, they will appear here. Make sure your profile is verified!"})]})})]})]})}a.s(["default",()=>s],44682)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0f30bc53._.js.map